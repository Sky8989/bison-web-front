webpackJsonp([28],{CuQq:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o={name:"Supplier",data:function(){return{addSupplier:!1,supplierList:[],form:{supplierId:0,supplierName:"",address:"",contact:"",contactPhone:"",contactMail:"",productionCosts:"",MOQ:"",capactity:"",minCartonQuantity:"",transactionCurrency:"",principalUser:"",recordUser:"",uTime:"",remark:""},LabelPosition:"right"}},methods:{init:function(){this.searchSupplier(this.$store.state.product.productId)},submitSupplier:function(){var t=this,e=this.form.supplierId,r=this.URL_ROOT+this.URL_PREFIX;null!=e&&0!=e?(console.log("put"),r+="/productSupplier/update/"+e,console.log(e)):(console.log("post"),r+="/productSupplier/add"),console.log(r);var o={productSupplierId:e,productSupplierName:this.form.supplierName,productSupplierAddress:this.form.address,productSupplierContact:this.form.contact,productSupplierContactPhone:this.form.contactPhone,productSupplierContactMail:this.form.contactMail,productSupplierTransactionCurrency:this.form.transactionCurrency,userId:this.form.principalUser,productSupplierRecordUser:"当前用户",remark:this.form.remark,productId:this.$store.state.product.productId,productSupplierProductionCosts:this.form.productionCosts,productSupplierMoq:this.form.MOQ,productSupplierCapactity:this.form.capactity,productSupplierMinimumCartonQuantity:this.form.minCartonQuantity};this.$ajax({method:"post",url:r,data:o}).then(function(r){"200"==r.data.code&&(null!=e&&0!=e?t.$message("修改供应商信息成功"):t.$message("新增供应商信息成功"),t.supplierList=r.data.data)}).catch(function(e){t.$message(e)}),this.form={},this.addSupplier=!1},searchSupplier:function(t){var e=this;if(console.log("===searchSupplier"),null==t||""==t)return this.$message("请先选择产品"),!1;console.log(t);var r=this.URL_ROOT+this.URL_PREFIX+"/productSupplier/findProductSupplier/"+t;this.$ajax.post(r,{}).then(function(t){"200"==t.data.code&&(console.log(t.data.data),e.supplierList=t.data.data)}).catch(function(t){e.$message(t)})},editSupplier:function(t,e){if(console.log(e.label),"编辑"!=e.label)return!1;this.form.supplierId=t.productSupplierId,this.form.supplierName=t.productSupplierName,this.form.address=t.productSupplierAddress,this.form.contact=t.productSupplierContact,this.form.contactPhone=t.productSupplierContactPhone,this.form.contactMail=t.productSupplierContactMail,this.form.transactionCurrency=t.productSupplierTransactionCurrency,this.form.principalUser=t.userId,this.form.remark=t.remark,this.form.productionCosts=t.productSupplierProductionCosts,this.form.MOQ=t.productSupplierMoq,this.form.capactity=t.productSupplierCapactity,this.form.minCartonQuantity=t.productSupplierMinimumCartonQuantity},closeDialog:function(){console.log("closeDialog 关闭回调"),this.form={supplierId:0,supplierName:"",address:"",contact:"",contactPhone:"",contactMail:"",productionCosts:"",MOQ:"",capactity:"",minCartonQuantity:"",transactionCurrency:"",principalUser:"",recordUser:"",uTime:"",remark:""}}}},l={render:function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{attrs:{id:"Supplier"}},[r("el-row",[r("el-col",{attrs:{span:4}},[r("el-button",{staticStyle:{float:"left"},on:{click:function(e){t.addSupplier=!0}}},[t._v("新增供应商+")])],1)],1),t._v(" "),r("el-dialog",{staticStyle:{width:"auto",height:"auto"},attrs:{title:"新增/编辑供应商+",visible:t.addSupplier},on:{"update:visible":function(e){t.addSupplier=e},closed:t.closeDialog}},[r("el-form",{attrs:{"label-width":"90px",model:t.form,"label-position":t.LabelPosition}},[r("input",{directives:[{name:"model",rawName:"v-model",value:t.form.supplierId,expression:"form.supplierId"}],attrs:{type:"number",hidden:""},domProps:{value:t.form.supplierId},on:{input:function(e){e.target.composing||t.$set(t.form,"supplierId",e.target.value)}}}),t._v(" "),r("el-row",[r("el-col",{attrs:{span:5}},[r("el-form-item",{attrs:{label:"供应商:"}},[r("el-input",{model:{value:t.form.supplierName,callback:function(e){t.$set(t.form,"supplierName",e)},expression:"form.supplierName"}})],1)],1),t._v(" "),r("el-col",{attrs:{span:5}},[r("el-form-item",{attrs:{label:"联系人:"}},[r("el-input",{model:{value:t.form.contact,callback:function(e){t.$set(t.form,"contact",e)},expression:"form.contact"}})],1)],1),t._v(" "),r("el-col",{attrs:{span:6}},[r("el-form-item",{attrs:{label:"联系电话:"}},[r("el-input",{model:{value:t.form.contactPhone,callback:function(e){t.$set(t.form,"contactPhone",e)},expression:"form.contactPhone"}})],1)],1),t._v(" "),r("el-col",{attrs:{span:6}},[r("el-form-item",{attrs:{label:"联系邮箱:"}},[r("el-input",{model:{value:t.form.contactMail,callback:function(e){t.$set(t.form,"contactMail",e)},expression:"form.contactMail"}})],1)],1)],1),t._v(" "),r("el-row",[r("el-col",{attrs:{span:20}},[r("el-form-item",{attrs:{label:"地址:"}},[r("el-input",{model:{value:t.form.address,callback:function(e){t.$set(t.form,"address",e)},expression:"form.address"}})],1)],1)],1),t._v(" "),r("el-row",[r("el-col",{attrs:{span:5}},[r("el-form-item",{attrs:{label:"采购成本:"}},[r("el-input",{model:{value:t.form.productionCosts,callback:function(e){t.$set(t.form,"productionCosts",e)},expression:"form.productionCosts"}})],1)],1),t._v(" "),r("el-col",{attrs:{span:5}},[r("el-form-item",{attrs:{label:"MOQ:"}},[r("el-input",{model:{value:t.form.MOQ,callback:function(e){t.$set(t.form,"MOQ",e)},expression:"form.MOQ"}})],1)],1),t._v(" "),r("el-col",{attrs:{span:5}},[r("el-form-item",{attrs:{label:"产能:"}},[r("el-input",{model:{value:t.form.capactity,callback:function(e){t.$set(t.form,"capactity",e)},expression:"form.capactity"}})],1)],1)],1),t._v(" "),r("el-row",[r("el-col",{attrs:{span:5}},[r("el-form-item",{attrs:{label:"交易货币:"}},[r("el-select",{attrs:{placeholder:"请选择交易货币"},model:{value:t.form.transactionCurrency,callback:function(e){t.$set(t.form,"transactionCurrency",e)},expression:"form.transactionCurrency"}},[r("el-option",{attrs:{label:"RMB",value:"RMB"}}),t._v(" "),r("el-option",{attrs:{label:"JPY",value:"JPY"}}),t._v(" "),r("el-option",{attrs:{label:"EUR",value:"JPY"}}),t._v(" "),r("el-option",{attrs:{label:"GBP",value:"GBP"}}),t._v(" "),r("el-option",{attrs:{label:"USD",value:"USD"}})],1)],1)],1),t._v(" "),r("el-col",{attrs:{span:5}},[r("el-form-item",{attrs:{label:"最小包:"}},[r("el-input",{model:{value:t.form.minCartonQuantity,callback:function(e){t.$set(t.form,"minCartonQuantity",e)},expression:"form.minCartonQuantity"}})],1)],1),t._v(" "),r("el-col",{attrs:{span:5}},[r("el-form-item",{attrs:{label:"采购负责人:"}},[r("el-select",{attrs:{placeholder:"请选择采购负责人"},model:{value:t.form.principalUser,callback:function(e){t.$set(t.form,"principalUser",e)},expression:"form.principalUser"}},[r("el-option",{attrs:{label:"aaa",value:"1"}}),t._v(" "),r("el-option",{attrs:{label:"bbb",value:"2"}}),t._v(" "),r("el-option",{attrs:{label:"ccc",value:"3"}}),t._v(" "),r("el-option",{attrs:{label:"ddd",value:"4"}}),t._v(" "),r("el-option",{attrs:{label:"fff",value:"5"}})],1)],1)],1)],1),t._v(" "),r("el-row",[r("el-col",{attrs:{span:20}},[r("el-form-item",{attrs:{label:"备注:"}},[r("el-input",{attrs:{type:"textarea",autosize:{minRows:4,maxRows:6}},model:{value:t.form.remark,callback:function(e){t.$set(t.form,"remark",e)},expression:"form.remark"}})],1)],1)],1)],1),t._v(" "),r("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{on:{click:function(e){t.addSupplier=!1}}},[t._v("取 消")]),t._v(" "),r("el-button",{attrs:{type:"primary"},on:{click:t.submitSupplier}},[t._v("确 定")])],1)],1),t._v(" "),r("el-table",{attrs:{data:t.supplierList,height:"250px",border:"border"},on:{"cell-click":t.editSupplier}},[r("el-table-column",{attrs:{prop:"productSupplierId",label:"id"}}),t._v(" "),r("el-table-column",{attrs:{prop:"productSupplierName",label:"供应商"}}),t._v(" "),r("el-table-column",{attrs:{prop:"productSupplierAddress",label:"地址"}}),t._v(" "),r("el-table-column",{attrs:{prop:"productSupplierContact",label:"联系人"}}),t._v(" "),r("el-table-column",{attrs:{prop:"productSupplierContactPhone",label:"联系电话"}}),t._v(" "),r("el-table-column",{attrs:{prop:"productSupplierContactMail",label:"联系邮箱"}}),t._v(" "),r("el-table-column",{attrs:{prop:"productSupplierProductionCosts",label:"采购成本"}}),t._v(" "),r("el-table-column",{attrs:{prop:"productSupplierMoq",label:"MOQ"}}),t._v(" "),r("el-table-column",{attrs:{prop:"productSupplierCapactity",label:"产能"}}),t._v(" "),r("el-table-column",{attrs:{prop:"productSupplierMinimumCartonQuantity",label:"最小包"}}),t._v(" "),r("el-table-column",{attrs:{prop:"productSupplierTransactionCurrency",label:"交易货币"}}),t._v(" "),r("el-table-column",{attrs:{prop:"userId",label:"采购负责人"}}),t._v(" "),r("el-table-column",{attrs:{prop:"productSupplierRecordUser",label:"记录人"}}),t._v(" "),r("el-table-column",{attrs:{prop:"uTime",label:"更新时间"}}),t._v(" "),r("el-table-column",{attrs:{prop:"remark",label:"备注"}}),t._v(" "),r("el-table-column",{attrs:{prop:"edit",label:"编辑"}},[r("el-button",{on:{click:function(e){t.addSupplier=!0}}},[t._v("编辑")])],1)],1)],1)},staticRenderFns:[]};var a=r("VU/8")(o,l,!1,function(t){r("b5aO")},"data-v-1f972139",null);e.default=a.exports},b5aO:function(t,e){}});
//# sourceMappingURL=28.87193fd7dc9059f4606e.js.map
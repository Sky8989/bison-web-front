{"version":3,"sources":["webpack:///src/components/role/roleManager.vue","webpack:///./src/components/role/roleManager.vue?510a","webpack:///./src/components/role/roleManager.vue"],"names":["roleManager","data","roleId","this","$store","state","LoginedUser","roles","roleItem","allRolelList","personnelItem","deleteRole","roleArray","created","_allRolelList","methods","_this","$ajax","get","URL_ROOT","then","res","code","push","roleName","savePermission","$refs","rolePermissonRel","saveThePermissions","_treeRoleId","item","array","childern","_deleteRole","i","_modifyRoleName","modifyname","_show","_addRole","addRole","roleSuccess","name","treeRole","_editRoleName","val","components","resolve","__webpack_require__","e","__WEBPACK_AMD_REQUIRE_ARRAY__","apply","bind","catch","oe","deleteTheRole","editRole","role_roleManager","render","_vm","_h","$createElement","_c","_self","staticClass","staticStyle","border-right","attrs","width","background-color","border","ref","on","tree","_v","height","_s","parentPath","substring","length","_e","line-height","click","success","padding","type","size","icon","id","staticRenderFns","Component","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/2.58a5798b7270618fa604.js","sourcesContent":["<template>\n  <div class=\"role-warp\">\n    <el-container>\n      <el-aside width=\"200px\" style=\"border-right: 1px solid #eee;\">\n        <el-menu style=\"background-color: rgb(238, 241, 246);border: none\">\n          <treeRole @tree=\"_treeRoleId\" ref=\"treeRole\"></treeRole>\n        </el-menu>\n      </el-aside>\n      <el-container>\n        <el-header height=\"auto\">\n          <div\n            class=\"parentPath\"\n            v-if=\"roleItem.parentPath\"\n          >{{roleItem.parentPath.substring(0,roleItem.parentPath.length-1)}}</div>\n          <div class=\"groupTitle\" style=\"height:30px;line-height:30px;\">{{roleItem.roleName}}</div>\n          <div class=\"groupNewNameDelete\" v-if=\"roleId != 0\">\n            <ul>\n              <li @click=\"_modifyRoleName\">修改角色名称 |</li>\n              <li>\n                <deleteTheRole @success=\"roleSuccess\" :roleItem=\"roleItem\"></deleteTheRole>\n              </li>\n            </ul>\n          </div>\n        </el-header>\n        <el-header style=\"padding: 0px 20px 0px 20px; height:auto\">\n          <div class=\"SettingMemberTop\">\n            <el-button type=\"primary\" size=\"small\" icon=\"el-icon-edit\" @click=\"_addRole\">创建角色</el-button>\n            <el-button id=\"savePerBtnId\" type=\"success\" size=\"small\" icon=\"el-icon-edit\" @click=\"savePermission\">保存</el-button>\n          </div>\n        </el-header>\n        <el-main>\n          <rolePermissonRel\n            ref=\"rolePermissonRel\"\n            :roleId=\"roleId\"\n            :roleItem=\"roleItem\"\n            @success=\"_editRoleName\"\n            @deleteRole=\"_deleteRole\"\n          ></rolePermissonRel>\n        </el-main>\n      </el-container>\n    </el-container>\n    <addRole\n      ref=\"addRole\"\n      :roleItem=\"roleItem\"\n      @success=\"roleSuccess\"\n      :allRolelList=\"allRolelList\"\n      :roleArray=\"roleArray\"\n    ></addRole>\n    <editRole\n      ref=\"modifyname\"\n      :roleItem=\"roleItem\"\n      @success=\"roleSuccess\"\n    ></editRole>\n\n  </div>\n</template>\n <script>\nconst ERR_OK = 200;\n\nexport default {\n  data() {\n    return {\n      roleId: this.$store.state.LoginedUser.roleId,\n      roles: true,\n      roleItem: \"\",\n      allRolelList:[],\n      personnelItem: [],\n      deleteRole: false,\n      roleArray: []\n    };\n  },\n  created() {\n    this._allRolelList();\n  },\n  methods: {\n    // 获取职位权限列表\n    _allRolelList() {\n      this.$ajax.get(this.URL_ROOT + \"/login-service/roles/findAllRole\",).then(res => {\n        if (res.data.code == ERR_OK) {\n          this.allRolelList = res.data.data;\n          this.allRolelList.push({\n            roleName: '其他',\n            roleId: '0'\n          })\n        }\n      });\n    },\n    savePermission(){\n      this.$refs.rolePermissonRel.saveThePermissions();\n    },\n    // 点击部门导航获取内容\n    _treeRoleId(item, array) {\n\n      this.roleId = item.roleId;\n      this.roleItem = item;\n      this.roleArray = array;\n      if (!item.childern) {\n        this.roles = false;\n      } else {\n        this.roles = true;\n      }\n    },\n    // 删除角色\n    _deleteRole(i) {\n      // this.deleteRole = i;\n    },\n\n    // 修改部门名称\n    _modifyRoleName() {\n       this.$refs.modifyname._show();\n    },\n    // 添加角色.\n    _addRole() {\n\n      this.$refs.addRole._show();\n    },\n    //新增部门成功\n    roleSuccess(name) {\n      this.$refs.treeRole.addRole();\n    },\n\n    // 编辑角色\n    _editRoleName(val) {\n      this.personnelItem = val;\n      // this.$refs.edit._show();\n    }\n  },\n  components: {\n    addRole: resolve =>\n      require([\"components/role/opts/addRole.vue\"], resolve),\n    deleteTheRole: resolve =>\n      require([\"components/role/opts/deleteTheRole.vue\"], resolve),\n    editRole: resolve =>\n      require([\"components/role/opts/editRole.vue\"], resolve),\n    rolePermissonRel: resolve =>\n            require([\"components/role/opts/rolePermissonRel.vue\"], resolve),\n    treeRole: resolve =>\n            require([\"components/role/opts/treeRoleManager.vue\"], resolve),\n  },\n};\n</script>\n\n <style lang=\"stylus\">\n .role-warp {\n   .el-tree--highlight-current .el-tree-node.is-current>.el-tree-node__content {\n     background-color: #419eff;\n     color: #fff;\n   }\n  .el-button--text{\n    font-size 18px;\n  }\n   .groupTitle {\n     font-size: 18px;\n     font-weight: bold;\n   }\n\n   .groupNewNameDelete {\n     padding: 10px 0;\n\n     li {\n       display: inline-block;\n       color: #333;\n       font-size: 14px;\n       cursor: pointer;\n     }\n   }\n    .el-dialog__title{\n        font-size: 14px;\n        color: #666;\n    }\n   .parentPath {\n     font-size: 13px;\n     height: 20px;\n     line-height: 20px;\n     color: #666;\n     padding-bottom: 10px;\n   }\n }\n</style>\n \n\n\n// WEBPACK FOOTER //\n// src/components/role/roleManager.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"role-warp\"},[_c('el-container',[_c('el-aside',{staticStyle:{\"border-right\":\"1px solid #eee\"},attrs:{\"width\":\"200px\"}},[_c('el-menu',{staticStyle:{\"background-color\":\"rgb(238, 241, 246)\",\"border\":\"none\"}},[_c('treeRole',{ref:\"treeRole\",on:{\"tree\":_vm._treeRoleId}})],1)],1),_vm._v(\" \"),_c('el-container',[_c('el-header',{attrs:{\"height\":\"auto\"}},[(_vm.roleItem.parentPath)?_c('div',{staticClass:\"parentPath\"},[_vm._v(_vm._s(_vm.roleItem.parentPath.substring(0,_vm.roleItem.parentPath.length-1)))]):_vm._e(),_vm._v(\" \"),_c('div',{staticClass:\"groupTitle\",staticStyle:{\"height\":\"30px\",\"line-height\":\"30px\"}},[_vm._v(_vm._s(_vm.roleItem.roleName))]),_vm._v(\" \"),(_vm.roleId != 0)?_c('div',{staticClass:\"groupNewNameDelete\"},[_c('ul',[_c('li',{on:{\"click\":_vm._modifyRoleName}},[_vm._v(\"修改角色名称 |\")]),_vm._v(\" \"),_c('li',[_c('deleteTheRole',{attrs:{\"roleItem\":_vm.roleItem},on:{\"success\":_vm.roleSuccess}})],1)])]):_vm._e()]),_vm._v(\" \"),_c('el-header',{staticStyle:{\"padding\":\"0px 20px 0px 20px\",\"height\":\"auto\"}},[_c('div',{staticClass:\"SettingMemberTop\"},[_c('el-button',{attrs:{\"type\":\"primary\",\"size\":\"small\",\"icon\":\"el-icon-edit\"},on:{\"click\":_vm._addRole}},[_vm._v(\"创建角色\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"id\":\"savePerBtnId\",\"type\":\"success\",\"size\":\"small\",\"icon\":\"el-icon-edit\"},on:{\"click\":_vm.savePermission}},[_vm._v(\"保存\")])],1)]),_vm._v(\" \"),_c('el-main',[_c('rolePermissonRel',{ref:\"rolePermissonRel\",attrs:{\"roleId\":_vm.roleId,\"roleItem\":_vm.roleItem},on:{\"success\":_vm._editRoleName,\"deleteRole\":_vm._deleteRole}})],1)],1)],1),_vm._v(\" \"),_c('addRole',{ref:\"addRole\",attrs:{\"roleItem\":_vm.roleItem,\"allRolelList\":_vm.allRolelList,\"roleArray\":_vm.roleArray},on:{\"success\":_vm.roleSuccess}}),_vm._v(\" \"),_c('editRole',{ref:\"modifyname\",attrs:{\"roleItem\":_vm.roleItem},on:{\"success\":_vm.roleSuccess}})],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-2f2299d8\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/role/roleManager.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-2f2299d8\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!stylus-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./roleManager.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./roleManager.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./roleManager.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-2f2299d8\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./roleManager.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/role/roleManager.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}
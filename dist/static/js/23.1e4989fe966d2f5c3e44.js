webpackJsonp([23],{"+xzw":function(t,e){},eilz:function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r={name:"UserData",components:{download:function(t){return o.e(12).then(function(){var e=[o("V/yR")];t.apply(null,e)}.bind(this)).catch(o.oe)},UserLeftSelect:function(t){return o.e(25).then(function(){var e=[o("pGta")];t.apply(null,e)}.bind(this)).catch(o.oe)}},data:function(){return{tableHeadCountry:"",form:{productCategory:"",productModelNumber:"",asinId:"",countryId:""},searchInfo:{productCategory:"",productModelNumber:"",asinId:"",userCharge:""},addProductSub:!1,LabelPosition:"left",userChargeList:[],productCategoryList:[],productList:[],asinList:[],tHeader:["BU","产品系列","国家","负责人","运营组别","产品型号","ASIN"],countryList:[],partCountryList:[]}},methods:{init:function(){this.getProductSubscriptionCountrys(),this.initProductCategory(),this.initModelNumber(),this.initAsin(),this.initCountry(),this.$refs.userLeftSelect.init()},initProductCategory:function(){var t=this,e=this.HOST+"/productSubscription/findProductCategoryAll";this.$ajax.get(e,{}).then(function(e){if("200"==e.data.code){var o=e.data.data;t.productCategoryList=o}})},initModelNumber:function(){var t=this,e=this.HOST+"/productSubscription/findModelNumberAll";this.$ajax.get(e,{}).then(function(e){if("200"==e.data.code){var o=e.data.data;t.productList=o}})},initAsin:function(){var t=this,e=this.HOST+"/productSubscription/findAsinAll";this.$ajax.get(e,{}).then(function(e){"200"==e.data.code&&(t.asinList=[],t.asinList=e.data.data)})},initCountry:function(){var t=this,e=this.HOST+"/findProductCharge/findCountry";this.$ajax.get(e,{}).then(function(e){"200"==e.data.code&&(t.countryList=e.data.data)})},chooseProductCategory:function(t){var e=this,o="";o="form"===t?this.form.productCategory:this.searchInfo.productCategory;var r=this.HOST+"/productSubscription/findModelNumberByproductCategoryId/"+o;console.log(r),this.$ajax.get(r,{}).then(function(t){"200"==t.data.code&&(console.log(t.data),e.productList=[],e.productList=t.data.data)}).then(function(t){console.log(t)});var a=this.HOST+"/productSubscription/findAsinByproductCategoryId/"+o;console.log(a),this.$ajax.get(a,{}).then(function(t){"200"==t.data.code&&(console.log(t.data),e.asinList=[],e.asinList=t.data.data)}).then(function(t){console.log(t)})},chooseProductModelNumber:function(t){var e=this,o="";o="form"===t?this.form.productModelNumber:this.searchInfo.productModelNumber;var r=this.HOST+"/productSubscription/findAsinByproductModelNumber/"+o;this.$ajax.get(r,{}).then(function(t){"200"==t.data.code&&(console.log(t.data),e.asinList=[],e.asinList=t.data.data)}).then(function(t){console.log(t)})},chooseAsin:function(t){var e=this,o="";o="form"===t?this.form.asinId:this.searchInfo.asinId;var r=this.HOST+"/productSubscription/findProductInByAsin/"+o;this.$ajax.get(r,{}).then(function(t){"200"==t.data.code&&(console.log(t.data.data),null!=t.data.data&&(e.form=[],e.form=t.data.data))}).then(function(t){console.log(t)})},chooseCountry:function(){var t=this.HOST+"/productSubscription/findProductSubscriptionList";this.requerstSearch(t)},search:function(){var t=this.HOST+"/productSubscription/findProductSubscriptionList";this.requerstSearch(t)},requerstSearch:function(t){var e=this,o={userCharge:this.searchInfo.userCharge,productCategory:this.searchInfo.productCategory,productModelNumber:this.searchInfo.productModelNumber,asinId:this.searchInfo.asinId,countryIds:this.tableHeadCountry};this.$ajax({method:"post",url:t,data:o}).then(function(t){"200"==t.data.code&&(console.log("res"),console.log(t.data.data),e.userChargeList=t.data.data)}).catch(function(t){console.log(t)})},submitProductSub:function(){var t=this,e=this.searchInfo.userCharge;if(null==e||e.length<=0)this.$message.error("请先选中对应人员,在进行添加操作");else{var o={productCategoryId:this.form.productCategory,productModelNumber:this.form.productModelNumber,asinId:this.form.asinId,countryId:this.form.countryId,userId:this.searchInfo.userCharge},r=this.HOST+"/productSubscription/addProductByUserCharge";this.$ajax({method:"post",url:r,data:o}).then(function(e){"200"==e.data.code&&(console.log("res"),console.log(e.data.data),t.userChargeList=e.data.data)}).catch(function(t){console.log(t)})}},deleteUserCharge:function(t,e){var o=this;console.log(e.label),console.log(t),this.$ajax({method:"post",url:url,data:data}).then(function(t){"200"==t.data.code&&(console.log("res"),console.log(t.data.data),o.userChargeList=t.data.data)}).catch(function(t){console.log(t)})},getUserIds:function(t){console.log("data"),console.log(t),this.searchInfo.userCharge=t,console.log(this.searchInfo.userCharge),this.search()},getProductSubscriptionCountrys:function(){var t=this.HOST+"/productSubscription/getProductSubscriptionCountrys";this.$ajax.get(t).then(function(t){"200"==t.data.code&&(console.log("getProductSubscriptionCountrys"),console.log(t.data.data))}).catch(function(t){console.log(t)})}}},a={render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("el-container",[o("el-aside",{attrs:{name:"left"}},[o("UserLeftSelect",{ref:"userLeftSelect",on:{sendUserIds:t.getUserIds}})],1),t._v(" "),o("el-main",{attrs:{name:"main"}},[o("el-row",[o("el-col",{attrs:{span:4}},[o("el-button",{staticStyle:{float:"left"},on:{click:function(e){t.addProductSub=!0}}},[t._v("新增产品")])],1)],1),t._v(" "),o("el-dialog",{staticStyle:{width:"auto",height:"auto"},attrs:{title:"新增产品",visible:t.addProductSub},on:{"update:visible":function(e){t.addProductSub=e}}},[o("el-form",{attrs:{"label-width":"100px",model:t.form,"label-position":t.LabelPosition,encType:"multipart/form-data"}},[o("el-row",[o("el-col",{attrs:{span:6}},[o("el-form-item",{attrs:{label:"国家"}},[o("el-select",{attrs:{placeholder:"请选择国家",filterable:""},model:{value:t.form.countryId,callback:function(e){t.$set(t.form,"countryId",e)},expression:"form.countryId"}},t._l(t.countryList,function(t){return o("el-option",{key:t.countryId,attrs:{label:t.countryName,value:t.countryId}})}),1)],1)],1)],1),t._v(" "),o("el-row",[o("el-col",{attrs:{span:6}},[o("el-form-item",{attrs:{label:"产品系列"}},[o("el-select",{attrs:{placeholder:"请选择产品系列",filterable:""},on:{change:function(e){return t.chooseProductCategory("form")}},model:{value:t.form.productCategory,callback:function(e){t.$set(t.form,"productCategory",e)},expression:"form.productCategory"}},t._l(t.productCategoryList,function(t){return o("el-option",{key:t.productCategoryId,attrs:{value:t.productCategoryId,label:t.productCategory}})}),1)],1)],1)],1),t._v(" "),o("el-row",[o("el-col",{attrs:{span:7}},[o("el-form-item",{attrs:{label:"产品型号"}},[o("el-select",{attrs:{placeholder:"请选择产品型号",filterable:""},on:{change:function(e){return t.chooseProductModelNumber("form")}},model:{value:t.form.productModelNumber,callback:function(e){t.$set(t.form,"productModelNumber",e)},expression:"form.productModelNumber"}},t._l(t.productList,function(t){return o("el-option",{key:t.productModelNumber,attrs:{value:t.productModelNumber,label:t.productModelNumber}})}),1)],1)],1)],1),t._v(" "),o("el-row",[o("el-col",{attrs:{span:7}},[o("el-form-item",{attrs:{label:"ASIN"}},[o("el-select",{attrs:{placeholder:"请选择ASIN",filterable:""},on:{change:function(e){return t.chooseAsin("form")}},model:{value:t.form.asinId,callback:function(e){t.$set(t.form,"asinId",e)},expression:"form.asinId"}},t._l(t.asinList,function(t){return o("el-option",{key:t.asinId,attrs:{value:t.asinId,label:t.asin}})}),1)],1)],1)],1)],1),t._v(" "),o("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[o("el-button",{on:{click:function(e){t.addProductSub=!1}}},[t._v("取 消")]),t._v(" "),o("el-button",{attrs:{type:"primary"},on:{click:t.submitProductSub}},[t._v("确 定")])],1)],1),t._v(" "),o("el-form",{attrs:{model:t.searchInfo}},[o("el-form-item",{staticStyle:{float:"left"}},[o("el-row",{attrs:{gutter:10}},[o("el-col",{attrs:{span:4}},[o("el-select",{attrs:{placeholder:"产品系列",filterable:"",clearable:""},on:{change:t.chooseProductCategory},model:{value:t.searchInfo.productCategory,callback:function(e){t.$set(t.searchInfo,"productCategory",e)},expression:"searchInfo.productCategory"}},t._l(t.productCategoryList,function(t){return o("el-option",{key:t.productCategoryId,attrs:{value:t.productCategoryId,label:t.productCategory}})}),1)],1),t._v(" "),o("el-col",{attrs:{span:4}},[o("el-select",{attrs:{placeholder:"产品型号",clearable:""},on:{change:t.chooseProductModelNumber},model:{value:t.searchInfo.productModelNumber,callback:function(e){t.$set(t.searchInfo,"productModelNumber",e)},expression:"searchInfo.productModelNumber"}},t._l(t.productList,function(t){return o("el-option",{key:t.productModelNumber,attrs:{value:t.productModelNumber,label:t.productModelNumber}})}),1)],1),t._v(" "),o("el-col",{attrs:{span:3}},[o("el-select",{attrs:{placeholder:"ASIN",clearable:"",filterable:""},model:{value:t.searchInfo.asinId,callback:function(e){t.$set(t.searchInfo,"asinId",e)},expression:"searchInfo.asinId"}},t._l(t.asinList,function(t){return o("el-option",{key:t.asinId,attrs:{value:t.asinId,label:t.asin}})}),1)],1),t._v(" "),o("el-col",{attrs:{span:3}},[o("el-button",{on:{click:t.search}},[t._v("搜索")])],1),t._v(" "),o("el-col",{attrs:{span:2}},[o("download",{attrs:{tHeader:t.tHeader,tableData:t.userChargeList}})],1)],1)],1)],1),t._v(" "),o("el-table",{staticStyle:{width:"100%"},attrs:{name:"showTable",border:"border",height:"250px",data:t.userChargeList},on:{"cell-click":t.deleteUserCharge}},[o("el-table-column",{attrs:{prop:"businessUnit",label:"BU",width:"160px"}}),t._v(" "),o("el-table-column",{attrs:{prop:"productCategory",label:"产品系列",width:"160px"}}),t._v(" "),o("el-table-column",{attrs:{prop:"countryName",label:"国家",width:"260px"},scopedSlots:t._u([{key:"header",fn:function(e){return[o("el-select",{attrs:{placeholder:"请选择国家",multiple:"",clearable:"",filterable:""},on:{change:t.chooseCountry},model:{value:t.tableHeadCountry,callback:function(e){t.tableHeadCountry=e},expression:"tableHeadCountry"}},t._l(t.countryList,function(t){return o("el-option",{key:t.countryId,attrs:{value:t.countryId,label:t.countryName}})}),1)]}}])}),t._v(" "),o("el-table-column",{attrs:{prop:"userName",label:"负责人",width:"160px"}}),t._v(" "),o("el-table-column",{attrs:{prop:"departmentName",label:"运营组别"}}),t._v(" "),o("el-table-column",{attrs:{prop:"productModelNumber",label:"产品型号"}}),t._v(" "),o("el-table-column",{attrs:{prop:"asin",label:"ASIN"}}),t._v(" "),o("el-table-column",{attrs:{label:"操作",width:"120px"}},[o("el-button",{on:{click:function(e){t.addProductSub=!0}}},[t._v("删除")])],1)],1)],1)],1)},staticRenderFns:[]};var n=o("VU/8")(r,a,!1,function(t){o("+xzw")},"data-v-cb463872",null);e.default=n.exports}});
//# sourceMappingURL=23.1e4989fe966d2f5c3e44.js.map
{"version":3,"sources":["webpack:///src/components/department/opts/treeDepartment.vue","webpack:///./src/components/department/opts/treeDepartment.vue?17dc","webpack:///./src/components/department/opts/treeDepartment.vue"],"names":["treeDepartment","data","departmentID","dataList","Lists","defaultProps","children","label","item","created","this","addDepartment","activated","methods","_this","dataLists","dataLists1","$ajax","get","URL_ROOT","$store","state","LoginedUser","departmentId","then","res","code","push","departmentName","parentPath","childern","id","getTreeData","console","log","$nextTick","$refs","tree","setCurrentKey","i","length","undefined","_handleNodeClick","$emit","opts_treeDepartment","render","_h","$createElement","_c","_self","ref","attrs","expand-on-click-node","props","highlight-current","node-key","default-expand-all","on","node-click","staticRenderFns","Component","__webpack_require__","normalizeComponent","__webpack_exports__"],"mappings":"sGAeA,IAEAA,GACAC,KADA,WAEA,OACAC,aAAA,IACAC,YACAC,SACAC,cACAC,SAAA,WACAC,MAAA,kBAEAC,KAAA,KAGAC,QAbA,WAcAC,KAAAC,iBAEAC,UAhBA,WAiBAF,KAAAC,iBAEAE,SACAF,cADA,WACA,IAAAG,EAAAJ,KACAK,KACAC,KACAN,KAAAO,MACAC,IACAR,KAAAS,SACA,0DACAT,KAAAU,OAAAC,MAAAC,YAAAC,cAEAC,KAAA,SAAAC,GA/BA,KAgCAA,EAAAxB,KAAAyB,OACAX,EAAAY,MACAC,eAAA,OACAC,WAAA,QACAC,YACAC,GAAA,KACAN,EAAAxB,WACAe,EAAAW,KAAAF,EAAAxB,WACAa,EAAAX,SAAAY,EACAD,EAAAV,MAAAU,EAAAkB,YAAAhB,GAEAiB,QAAAC,IAAApB,EAAAZ,cACAY,EAAAqB,UAAA,WACAzB,KAAA0B,MAAAC,KAAAC,cACA5B,KAAAR,oBAOA8B,YAhCA,SAgCA/B,GACA,QAAAsC,KAAAtC,EACAA,EAAAsC,GAAAT,SAAAU,OAAA,EACAvC,EAAAsC,GAAAT,cAAAW,EAEA/B,KAAAsB,YAAA/B,EAAAsC,GAAAT,UAGA,OAAA7B,GAEAyC,iBA1CA,SA0CAlC,GACAyB,QAAAC,IAAA1B,GACAE,KAAAR,aAAAM,EAAAuB,GACArB,KAAAiC,MAAA,OAAAnC,EAAAE,KAAAN,UC9EewC,GADEC,OAFjB,WAA0B,IAAaC,EAAbpC,KAAaqC,eAA0BC,EAAvCtC,KAAuCuC,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,OAAAA,EAAA,WAA+BE,IAAA,OAAAC,OAAkBC,wBAAA,EAAAnD,KAAhHS,KAAgHP,SAAAkD,MAAhH3C,KAAgHL,aAAAiD,oBAAA,GAAAC,WAAA,KAAAC,qBAAA,IAAyIC,IAAKC,aAA9PhD,KAA8PgC,qBAAmC,IAE1SiB,oBCYjBC,EAdyBC,EAAQ,OAcjCC,CACE9D,EACA4C,GATF,EAEA,KAEA,KAEA,MAUemB,EAAA,QAAAH,EAAiB","file":"static/js/37.33f09b1650cd89d07507.js","sourcesContent":["<template>\n  <div>\n    <el-tree\n      :expand-on-click-node=\"false\"\n      :data=\"dataList\"\n      ref=\"tree\"\n      :props=\"defaultProps\"\n      @node-click=\"_handleNodeClick\"\n      highlight-current\n      node-key=\"id\"\n      default-expand-all\n    ></el-tree>\n  </div>\n</template>\n<script>\nconst ERR_OK = 200;\n\nexport default {\n  data() {\n    return {\n      departmentID: '0',\n      dataList: [],\n      Lists: [],\n      defaultProps: {\n        children: \"childern\",\n        label: \"departmentName\"\n      },\n      item: \"\"\n    };\n  },\n  created() {\n    this.addDepartment();\n  },\n  activated() {\n    this.addDepartment();\n  },\n  methods: {\n    addDepartment() {\n      let dataLists = [];\n      let dataLists1 = [];\n      this.$ajax\n        .get(\n          this.URL_ROOT +\n            \"/login-service/departments/getDepartmentByDepartmentId/\" +\n            this.$store.state.LoginedUser.departmentId\n        )\n        .then(res => {\n          if (res.data.code == ERR_OK) {\n            dataLists.push({\n              departmentName: '所有员工',\n              parentPath: \"所有员工/\",\n              childern: [],\n              id: '0'\n            },res.data.data);\n            dataLists1.push(res.data.data);\n            this.dataList = dataLists;\n            this.Lists = this.getTreeData(dataLists1);\n            // this._handleNodeClick(this.dataList[0]);\n             console.log(this.departmentID)\n            this.$nextTick(function() {\n              this.$refs.tree.setCurrentKey(\n                this.departmentID\n              );\n            });\n          }\n        });\n    },\n    // 去掉childern空值\n    getTreeData(data) {\n      for (let i in data) {\n        if (data[i].childern.length < 1) {\n          data[i].childern = undefined;\n        } else {\n          this.getTreeData(data[i].childern);\n        }\n      }\n      return data;\n    },\n    _handleNodeClick(item) {\n      console.log(item)\n      this.departmentID = item.id\n      this.$emit(\"tree\", item, this.Lists);\n    }\n  }\n};\n</script>\n\n\n\n// WEBPACK FOOTER //\n// src/components/department/opts/treeDepartment.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('el-tree',{ref:\"tree\",attrs:{\"expand-on-click-node\":false,\"data\":_vm.dataList,\"props\":_vm.defaultProps,\"highlight-current\":\"\",\"node-key\":\"id\",\"default-expand-all\":\"\"},on:{\"node-click\":_vm._handleNodeClick}})],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-b3c21c64\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/department/opts/treeDepartment.vue\n// module id = null\n// module chunks = ","var normalizeComponent = require(\"!../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./treeDepartment.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./treeDepartment.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-b3c21c64\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./treeDepartment.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/department/opts/treeDepartment.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}
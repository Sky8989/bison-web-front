webpackJsonp([41],{Omkl:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r={props:["personnelList","personnelItem","departmentArray"],data:function(){return{status:!1,formedit:{userName:"",userPassword:"",userDisplayName:"",userId:"",roleId:""},parentDeptId:[],defaultProps:{children:"childern",label:"departmentName",value:"id"},rules:{userPassword:[{required:!0,message:"请输入密码",trigger:"blur"}],userDisplayName:[{required:!0,message:"请输入姓名",trigger:"blur"}]}}},created:function(){},methods:{_show:function(){this.status=!this.status},_personnellist:function(){this.formedit=this.personnelItem,this.formedit.userPassword=this.personnelItem.userPassword,this.formedit.userDisplayName=this.personnelItem.userDisplayName,this.formedit.userId=this.personnelItem.userId,this.formedit.roleId=this.personnelItem.roleId,this.parentDeptId=this.personnelItem.deptIdList},_addpersonnel:function(e){var t=this;this.$refs[e].validate(function(e){e&&t.$ajax({method:"post",url:"http://192.168.1.224:10025/users/updateUserBaseMassage/"+t.personnelItem.userId,data:t.formedit}).then(function(e){200==e.data.code?(t.$emit("success"),t.$message.success("修改成功"),t.status=!1):t.$message.error("修改失败")})})},handleChange:function(e){this.formedit.departmentId=e[e.length-1]}},watch:{personnelItem:function(){var e=this;this.$nextTick(function(){e._personnellist()})}}},o={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("el-dialog",{attrs:{visible:e.status,width:"400px"},on:{"update:visible":function(t){e.status=t}}},[s("el-form",{ref:"editPersonnel",attrs:{model:e.formedit,rules:e.rules,"label-width":"100px"}},[s("el-form-item",{attrs:{label:"选择部门"}},[s("el-cascader",{attrs:{"expand-trigger":"hover",options:e.departmentArray,props:e.defaultProps,"change-on-select":!0,"show-all-levels":!1},on:{change:e.handleChange},model:{value:e.parentDeptId,callback:function(t){e.parentDeptId=t},expression:"parentDeptId"}})],1),e._v(" "),s("el-form-item",{attrs:{label:"请选择职位"}},[s("el-select",{attrs:{placeholder:"请选择"},model:{value:e.formedit.roleId,callback:function(t){e.$set(e.formedit,"roleId",t)},expression:"formedit.roleId"}},e._l(e.personnelList,function(e){return s("el-option",{key:e.roleId,attrs:{label:e.roleName,value:e.roleId}})}),1)],1),e._v(" "),s("el-form-item",{attrs:{label:"账号"}},[s("el-input",{attrs:{autocomplete:"off",disabled:!0},model:{value:e.formedit.userName,callback:function(t){e.$set(e.formedit,"userName",t)},expression:"formedit.userName"}})],1),e._v(" "),s("el-form-item",{attrs:{label:"密码",prop:"userPassword"}},[s("el-input",{attrs:{autocomplete:"off","show-password":""},model:{value:e.formedit.userPassword,callback:function(t){e.$set(e.formedit,"userPassword",t)},expression:"formedit.userPassword"}})],1),e._v(" "),s("el-form-item",{attrs:{label:"姓名",prop:"userDisplayName"}},[s("el-input",{attrs:{autocomplete:"off"},model:{value:e.formedit.userDisplayName,callback:function(t){e.$set(e.formedit,"userDisplayName",t)},expression:"formedit.userDisplayName"}})],1)],1),e._v(" "),s("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[s("el-button",{on:{click:e._show}},[e._v("取 消")]),e._v(" "),s("el-button",{attrs:{type:"primary"},on:{click:function(t){return e._addpersonnel("editPersonnel")}}},[e._v("确 定")])],1)],1)},staticRenderFns:[]},a=s("VU/8")(r,o,!1,null,null,null);t.default=a.exports}});
//# sourceMappingURL=41.0a1c5d0c80414d934f46.js.map
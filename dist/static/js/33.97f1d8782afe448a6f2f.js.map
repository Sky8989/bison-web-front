{"version":3,"sources":["webpack:///src/components/role/opts/treeRoleManager.vue","webpack:///./src/components/role/opts/treeRoleManager.vue?b4f4","webpack:///./src/components/role/opts/treeRoleManager.vue"],"names":["treeRoleManager","data","the_id","this","$store","state","LoginedUser","roleId","dataList","Lists","defaultProps","children","label","item","created","addRole","activated","mounted","methods","_this","$ajax","get","URL_ROOT","then","res","code","dataLists1","temResult","push","getTreeData","$nextTick","$refs","tree","setCurrentKey","i","length","undefined","_handleNodeClick","console","log","$emit","opts_treeRoleManager","render","_h","$createElement","_c","_self","ref","attrs","expand-on-click-node","props","highlight-current","node-key","default-expand-all","on","node-click","staticRenderFns","Component","__webpack_require__","normalizeComponent","__webpack_exports__"],"mappings":"sGAeA,IAEAA,GACAC,KADA,WAEA,OACAC,OAAAC,KAAAC,OAAAC,MAAAC,YAAAC,OACAA,OAAA,EACAC,YACAC,SACAC,cACAC,SAAA,WACAC,MAAA,YAEAC,KAAA,KAGAC,QAdA,WAeAX,KAAAY,WAEAC,UAjBA,WAkBAb,KAAAY,WAEAE,QApBA,aAqBAC,SACAH,QADA,WACA,IAAAI,EAAAhB,KACAA,KAAAiB,MACAC,IACAlB,KAAAmB,SACA,yDACAnB,KAAAC,OAAAC,MAAAC,YAAAC,QAEAgB,KAAA,SAAAC,GAEA,GADAL,EAAAX,YAhCA,KAiCAgB,EAAAvB,KAAAwB,KAAA,CACA,GAAAD,EAAAvB,UAAA,CACA,IAAAyB,KACAC,EAAAH,EAAAvB,UACA0B,IACAR,EAAAX,SAAAoB,KAAAD,GACAD,EAAAE,KAAAD,IAEAR,EAAAV,MAAAU,EAAAU,YAAAH,GAGAP,EAAAW,UAAA,WACA3B,KAAA4B,MAAAC,KAAAC,cAAA9B,KAAAD,cAMA2B,YA5BA,SA4BA5B,GACA,QAAAiC,KAAAjC,EACAA,EAAAiC,GAAAvB,UAAAV,EAAAiC,GAAAvB,SAAAwB,OAAA,EACAlC,EAAAiC,GAAAvB,cAAAyB,EAEAjC,KAAA0B,YAAA5B,EAAAiC,GAAAvB,UAGA,OAAAV,GAEAoC,iBAtCA,SAsCAxB,GACAyB,QAAAC,IAAA1B,GACAV,KAAAD,OAAAW,EAAAN,OACAJ,KAAAqC,MAAA,OAAA3B,EAAAV,KAAAM,UC5EegC,GADEC,OAFjB,WAA0B,IAAaC,EAAbxC,KAAayC,eAA0BC,EAAvC1C,KAAuC2C,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,OAAAA,EAAA,WAA+BE,IAAA,OAAAC,OAAkBC,wBAAA,EAAAhD,KAAhHE,KAAgHK,SAAA0C,MAAhH/C,KAAgHO,aAAAyC,oBAAA,GAAAC,WAAA,SAAAC,qBAAA,IAA6IC,IAAKC,aAAlQpD,KAAkQkC,qBAAmC,IAE9SmB,oBCYjBC,EAdyBC,EAAQ,OAcjCC,CACE3D,EACAyC,GATF,EAEA,KAEA,KAEA,MAUemB,EAAA,QAAAH,EAAiB","file":"static/js/33.97f1d8782afe448a6f2f.js","sourcesContent":["<template>\n  <div>\n    <el-tree\n      :expand-on-click-node=\"false\"\n      :data=\"dataList\"\n      ref=\"tree\"\n      :props=\"defaultProps\"\n      @node-click=\"_handleNodeClick\"\n      highlight-current\n      node-key=\"roleId\"\n      default-expand-all\n    ></el-tree>\n  </div>\n</template>\n<script>\nconst ERR_OK = 200;\n\nexport default {\n  data() {\n    return {\n      the_id: this.$store.state.LoginedUser.roleId,\n      roleId: 0,\n      dataList: [],\n      Lists: [],\n      defaultProps: {\n        children: \"children\",\n        label: \"roleName\"\n      },\n      item: \"\"\n    };\n  },\n  created() {\n    this.addRole();\n  },\n  activated() {\n    this.addRole();\n  },\n  mounted() {},\n  methods: {\n    addRole() {\n      this.$ajax\n        .get(\n          this.URL_ROOT +\n            \"/login-service/userPermission/getChildrenTreeByRoleId/\" +\n            this.$store.state.LoginedUser.roleId\n        )\n        .then(res => {\n          this.dataList = [];\n          if (res.data.code == ERR_OK) {\n            if (res.data.data) {\n              let dataLists1 = [];\n              let temResult = res.data.data;\n              if (temResult) {\n                this.dataList.push(temResult);\n                dataLists1.push(temResult);\n              }\n              this.Lists = this.getTreeData(dataLists1);\n            }\n\n            this.$nextTick(function() {\n              this.$refs.tree.setCurrentKey(this.the_id);\n            });\n          }\n        });\n    },\n    // 去掉childern空值\n    getTreeData(data) {\n      for (let i in data) {\n        if (data[i].children && data[i].children.length < 1) {\n          data[i].children = undefined;\n        } else {\n          this.getTreeData(data[i].children);\n        }\n      }\n      return data;\n    },\n    _handleNodeClick(item) {\n      console.log(item)\n      this.the_id = item.roleId\n      this.$emit(\"tree\", item, this.Lists);\n    }\n  }\n};\n</script>\n\n\n\n// WEBPACK FOOTER //\n// src/components/role/opts/treeRoleManager.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('el-tree',{ref:\"tree\",attrs:{\"expand-on-click-node\":false,\"data\":_vm.dataList,\"props\":_vm.defaultProps,\"highlight-current\":\"\",\"node-key\":\"roleId\",\"default-expand-all\":\"\"},on:{\"node-click\":_vm._handleNodeClick}})],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-7b2f6127\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/role/opts/treeRoleManager.vue\n// module id = null\n// module chunks = ","var normalizeComponent = require(\"!../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./treeRoleManager.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./treeRoleManager.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-7b2f6127\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./treeRoleManager.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/role/opts/treeRoleManager.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}
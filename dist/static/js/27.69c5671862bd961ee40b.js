webpackJsonp([27],{"3PiQ":function(t,e){},krrH:function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i={name:"Listting",data:function(){return{labelPosition:"left",formLabelAlign:{name:"",region:"",type:""},ListtingList:[],addListting:!1,form:{listingEventId:"",seller:"",country:"",eventTime:"",listtingEvent:"",processingRecord:""},countryList:[],sellerList:[]}},mounted:function(){},methods:{init:function(){console.log("----"),this.searchListting(this.$store.state.product.productId),this.getCountryList(),this.getSellerList()},searchListting:function(t){var e=this;if(console.log("===searchListting"),null==t||""==t)return this.$message("请先选择产品"),!1;console.log(t);var o=this.URL_ROOT+this.URL_PREFIX+"/productListingEvent/findByProductId/"+t;this.$ajax({method:"get",url:o}).then(function(t){200==t.data.code&&(console.log(t.data.data),e.ListtingList=t.data.data)}).catch(function(t){console.log(t)})},submitListting:function(){var t=this,e=this.form.listingEventId,o="post",i=this.URL_ROOT+this.URL_PREFIX;null!=e&&0!=e?(console.log("update"),o="put",i+="/productListingEvent/update/"+e):(i+="/productListingEvent/add",console.log("增加"));var l={productListingEventId:e,countryId:this.form.country,productId:this.$store.state.product.productId,sellerId:this.form.seller,productListingEventDescription:this.form.listtingEvent,productListingEventTime:this.form.eventTime,productListingEventProcessingRecord:this.form.processingRecord,productListingEventRecordUser:"当前用户"};console.log(o),console.log(i),console.log(l),this.$ajax({method:o,url:i,data:l}).then(function(o){"200"==o.data.code&&(console.log(o.data.data),null==e||""==e?t.$message("新增listting事件记录成功"):t.$message("修改listting事件记录成功"),t.ListtingList=o.data.data)}).catch(function(t){console.log(t)}),this.addListting=!1},editListting:function(t,e){if(console.log(e.label),console.log(t.productListingEventId),"编辑"!=e.label)return!1;this.addListting=!0,this.form.listingEventId=t.productListingEventId,this.form.country=t.countryName,this.form.productId=t.productId,this.form.seller=t.sellerName,this.form.listtingEvent=t.productListingEventDescription,this.form.eventTime=t.productListingEventTime,this.form.processingRecord=t.productListingEventProcessingRecord,this.form.recordUser=t.productListingEventRecordUser},closeDialog:function(){console.log("closeDialog 关闭回调"),this.form={listingEventId:"",seller:"",country:"",eventTime:"",listtingEvent:"",processingRecord:""}},getCountryList:function(){var t=this,e=this.URL_ROOT+this.URL_PREFIX+"/findProductCharge/findCountry";this.$ajax.get(e,{}).then(function(e){"200"==e.data.code&&(console.log(e.data.data),t.countryList=e.data.data)}).catch(function(t){console.log(t)})},getSellerList:function(){var t=this,e=this.URL_ROOT+this.URL_PREFIX+"/productCoded/findSellerList";this.$ajax.get(e,{}).then(function(e){"200"==e.data.code&&(console.log(e.data.data),t.sellerList=e.data.data)}).catch(function(t){console.log(t)})}}},l={render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{attrs:{id:"Listting"}},[o("el-button",{staticStyle:{float:"left"},on:{click:function(e){t.addListting=!0}}},[t._v("新增记录")]),t._v(" "),o("el-dialog",{staticStyle:{width:"auto",height:"auto"},attrs:{title:"新增记录/编辑",visible:t.addListting},on:{"update:visible":function(e){t.addListting=e},closed:t.closeDialog}},[o("el-form",{attrs:{model:t.form,"label-width":"80px","label-position":t.labelPosition}},[o("input",{directives:[{name:"model",rawName:"v-model",value:t.form.listingEventId,expression:"form.listingEventId"}],attrs:{hidden:"",type:"number"},domProps:{value:t.form.listingEventId},on:{input:function(e){e.target.composing||t.$set(t.form,"listingEventId",e.target.value)}}}),t._v(" "),o("el-row",{attrs:{gutter:20}},[o("el-col",{attrs:{span:8}},[o("el-form-item",{attrs:{label:"产品型号:"}},[o("span",[t._v(t._s(this.$store.state.product.productModelNumber))])])],1)],1),t._v(" "),o("el-row",{attrs:{gutter:20}},[o("el-col",{attrs:{span:8}},[o("el-form-item",{attrs:{label:"账号:"}},[o("el-select",{attrs:{placeholder:"请选择账号"},model:{value:t.form.seller,callback:function(e){t.$set(t.form,"seller",e)},expression:"form.seller"}},t._l(t.sellerList,function(t){return o("el-option",{key:t.sellerId,attrs:{value:t.sellerId,label:t.sellerName}})}),1)],1)],1),t._v(" "),o("el-col",{attrs:{span:8}},[o("el-form-item",{attrs:{label:"国家:"}},[o("el-select",{attrs:{placeholder:"请选择账号"},model:{value:t.form.country,callback:function(e){t.$set(t.form,"country",e)},expression:"form.country"}},t._l(t.countryList,function(t){return o("el-option",{key:t.countryId,attrs:{label:t.countryName,value:t.countryId}})}),1)],1)],1)],1),t._v(" "),o("el-row",{attrs:{gutter:20}},[o("el-col",{attrs:{span:8}},[o("el-form-item",{attrs:{label:"时间:"}},[o("el-date-picker",{attrs:{type:"datetime",placeholder:"选择日期时间","default-time":"12:00:00"},model:{value:t.form.eventTime,callback:function(e){t.$set(t.form,"eventTime",e)},expression:"form.eventTime"}})],1)],1)],1),t._v(" "),o("el-row",{attrs:{gutter:20}},[o("el-col",{attrs:{span:18}},[o("el-form-item",{attrs:{label:"事件:"}},[o("el-input",{staticStyle:{width:"580px"},attrs:{value:"事件描述"},model:{value:t.form.listtingEvent,callback:function(e){t.$set(t.form,"listtingEvent",e)},expression:"form.listtingEvent"}})],1)],1)],1),t._v(" "),o("el-row",{attrs:{gutter:20}},[o("el-col",{attrs:{span:18}},[o("el-form-item",{attrs:{label:"处理记录:"}},[o("el-input",{attrs:{type:"textarea",autosize:{minRows:3,maxRows:6},value:"事件描述"},model:{value:t.form.processingRecord,callback:function(e){t.$set(t.form,"processingRecord",e)},expression:"form.processingRecord"}})],1)],1)],1)],1),t._v(" "),o("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[o("el-button",{on:{click:function(e){t.addListting=!1}}},[t._v("取 消")]),t._v(" "),o("el-button",{attrs:{type:"primary"},on:{click:t.submitListting}},[t._v("确 定")])],1)],1),t._v(" "),o("el-table",{staticStyle:{width:"100%"},attrs:{name:"showTable",border:"border",height:"250px",data:t.ListtingList},on:{"cell-click":t.editListting}},[o("el-table-column",{attrs:{prop:"productListingEventId",label:"id"}}),t._v(" "),o("el-table-column",{attrs:{prop:"sellerName",label:"账号"}}),t._v(" "),o("el-table-column",{attrs:{prop:"countryName",label:"国家"}}),t._v(" "),o("el-table-column",{attrs:{prop:"productModelNumber",label:"产品型号"}}),t._v(" "),o("el-table-column",{attrs:{prop:"productListingEventDescription",label:"事件"}}),t._v(" "),o("el-table-column",{attrs:{prop:"productListingEventTime",label:"时间"}}),t._v(" "),o("el-table-column",{attrs:{prop:"productListingEventProcessingRecord",label:"处理记录"}}),t._v(" "),o("el-table-column",{attrs:{prop:"productListingEventRecordUser",label:"记录人"}}),t._v(" "),o("el-table-column",{attrs:{prop:"uTime",label:"更新时间"}}),t._v(" "),o("el-table-column",{attrs:{label:"编辑"}},[o("el-button",{on:{click:function(e){t.addListting=!0}}},[t._v("编辑")])],1)],1)],1)},staticRenderFns:[]};var s=o("VU/8")(i,l,!1,function(t){o("3PiQ")},"data-v-56ff29f7",null);e.default=s.exports}});
//# sourceMappingURL=27.69c5671862bd961ee40b.js.map
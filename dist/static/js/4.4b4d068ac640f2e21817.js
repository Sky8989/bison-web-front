webpackJsonp([4],{"7PxF":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r={data:function(){return{groupId:this.$store.state.LoginedUser.departmentId,deleteDepartments:!0,departmentItem:"",personnelList:[],personnelItem:[],deleteGroup:!1,departmentArray:[]}},created:function(){this._personnelList()},methods:{_personnelList:function(){var e=this;this.$ajax.get(this.URL_ROOT+"/login-service/roles/findAllRole").then(function(t){200==t.data.code&&(e.personnelList=t.data.data,e.personnelList.push({roleName:"其他",roleId:"0"}))})},_TreeDepartmentId:function(e,t){this.groupId=e.id,this.departmentItem=e,this.departmentArray=t,e.childern?this.deleteDepartments=!0:this.deleteDepartments=!1},_deleteGroup:function(e){this.deleteGroup=e},_newDepartment:function(){this.$refs.newDepartment._show()},_modifyDepartmentName:function(){this.$refs.modifyname._show()},_newPersonnel:function(){this.$refs.addPersonnel._show()},departmentSuccess:function(e){this.$refs.treeDepartment.addDepartment()},addPersonnelSuccess:function(){this.$refs.tablePersonnel.personnel()},_editPersonnel:function(e){this.personnelItem=e,this.$refs.edit._show()}},components:{addPersonnel:function(e){return n.e(43).then(function(){var t=[n("HWMF")];e.apply(null,t)}.bind(this)).catch(n.oe)},deleteDepartment:function(e){return n.e(42).then(function(){var t=[n("v2oA")];e.apply(null,t)}.bind(this)).catch(n.oe)},modifyDepartmentName:function(e){return n.e(40).then(function(){var t=[n("7RX+")];e.apply(null,t)}.bind(this)).catch(n.oe)},newDepartment:function(e){return n.e(39).then(function(){var t=[n("UeLV")];e.apply(null,t)}.bind(this)).catch(n.oe)},tablePersonnel:function(e){return n.e(38).then(function(){var t=[n("c8md")];e.apply(null,t)}.bind(this)).catch(n.oe)},treeDepartment:function(e){return n.e(37).then(function(){var t=[n("LMb1")];e.apply(null,t)}.bind(this)).catch(n.oe)},editPersonnel:function(e){return n.e(41).then(function(){var t=[n("Omkl")];e.apply(null,t)}.bind(this)).catch(n.oe)}}},a={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"department-warp"},[n("el-container",[n("el-aside",{staticStyle:{"border-right":"1px solid #eee"},attrs:{width:"200px"}},[n("el-menu",{staticStyle:{"background-color":"rgb(238, 241, 246)",border:"none"}},[n("treeDepartment",{ref:"treeDepartment",on:{tree:e._TreeDepartmentId}})],1)],1),e._v(" "),n("el-container",[n("el-header",{attrs:{height:"auto"}},[e.departmentItem.parentPath?n("div",{staticClass:"parentPath"},[e._v(e._s(e.departmentItem.parentPath.substring(0,e.departmentItem.parentPath.length-1)))]):e._e(),e._v(" "),n("div",{staticClass:"groupTitle",staticStyle:{height:"30px","line-height":"30px"}},[e._v(e._s(e.departmentItem.departmentName))]),e._v(" "),0!=e.groupId?n("div",{staticClass:"groupNewNameDelete"},[n("ul",[n("li",{on:{click:e._modifyDepartmentName}},[e._v("修改部门名称 |")]),e._v(" "),n("li",{on:{click:e._newDepartment}},[e._v("新建子部门")]),e._v(" "),!e.deleteDepartments&&e.deleteGroup?n("li",[e._v("\n              |\n              "),n("deleteDepartment",{attrs:{departmentItem:e.departmentItem},on:{success:e.departmentSuccess}})],1):e._e()])]):e._e()]),e._v(" "),n("el-header",{staticStyle:{padding:"0px 20px 0px 20px",height:"auto"}},[n("div",{staticClass:"SettingMemberTop"},[n("el-button",{attrs:{type:"primary",size:"small",icon:"el-icon-edit"},on:{click:e._newPersonnel}},[e._v("新增成员")])],1)]),e._v(" "),n("el-main",[n("tablePersonnel",{ref:"tablePersonnel",attrs:{groupId:e.groupId,departmentItem:e.departmentItem},on:{success:e._editPersonnel,deleteGroup:e._deleteGroup}})],1)],1)],1),e._v(" "),n("addPersonnel",{ref:"addPersonnel",attrs:{departmentItem:e.departmentItem,personnelList:e.personnelList,departmentArray:e.departmentArray},on:{success:e.addPersonnelSuccess}}),e._v(" "),n("modifyDepartmentName",{ref:"modifyname",attrs:{departmentItem:e.departmentItem},on:{success:e.departmentSuccess}}),e._v(" "),n("newDepartment",{ref:"newDepartment",attrs:{departmentItem:e.departmentItem},on:{success:e.departmentSuccess}}),e._v(" "),n("editPersonnel",{ref:"edit",attrs:{personnelList:e.personnelList,personnelItem:e.personnelItem,departmentArray:e.departmentArray},on:{success:e.addPersonnelSuccess}})],1)},staticRenderFns:[]};var s=n("VU/8")(r,a,!1,function(e){n("JmY/")},null,null);t.default=s.exports},"JmY/":function(e,t){}});
//# sourceMappingURL=4.4b4d068ac640f2e21817.js.map